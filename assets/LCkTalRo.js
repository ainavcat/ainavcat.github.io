import{_ as F}from"./Q1SIaTmI.js";import{b as i,E as W,S as B,a8 as Y,k as G,c as f,a as r,D as y,w as _,t as d,i as c,e as D,F as L,A as M,a9 as J,o as m,d as g}from"./BZYIDAji.js";import{u as N}from"./CqIHvAol.js";import{a as Q}from"./D705Up3s.js";import{_ as X}from"./DlAUqK2U.js";import{B as Z}from"./DJqL1Hob.js";import{T as K}from"./DaVpmb7o.js";import{L as tt}from"./DGZNtyZX.js";import{I as C}from"./mO3gz6_h.js";import"./TIzBAO2g.js";import"./BW7AcD-T.js";import"./Bnj4LQlf.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};function T(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.forEach(function(o){nt(n,o,e[o])})}return n}function nt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var S=function(t,e){var a=T({},t,e.attrs);return i(C,T({},a,{icon:et}),null)};S.displayName="CalendarOutlined";S.inheritAttrs=!1;var rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};function k(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.forEach(function(o){at(n,o,e[o])})}return n}function at(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var w=function(t,e){var a=k({},t,e.attrs);return i(C,k({},a,{icon:rt}),null)};w.displayName="TagOutlined";w.inheritAttrs=!1;var ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function V(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.forEach(function(o){st(n,o,e[o])})}return n}function st(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var P=function(t,e){var a=V({},t,e.attrs);return i(C,V({},a,{icon:ot}),null)};P.displayName="UserOutlined";P.inheritAttrs=!1;const ct={class:"article-detail"},lt={class:"container"},it={class:"back-button"},ut={class:"article-header"},dt={class:"article-meta"},mt={class:"meta-item"},pt={class:"meta-item"},ft={key:0,class:"meta-item"},_t={class:"article-description"},vt={class:"article-tags"},gt={class:"article-content"},ht={key:0,class:"related-articles"},Ot={class:"related-grid"},bt={class:"related-meta"},yt={__name:"[slug]",async setup(n){var A;let t,e;const o=W().params.slug,E=Array.isArray(o)?`/articles/${o.join("/")}`:`/articles/${o}`,{data:s}=([t,e]=B(()=>N(()=>queryCollection("content").path(E).first(),"$hmyPvuf8_y")),t=await t,e(),t);if(!s.value)throw Y({statusCode:404,statusMessage:"文章未找到"});Q({title:s.value.title,description:s.value.description,keywords:((A=s.value.tags)==null?void 0:A.join(", "))||""});const H=s.value.category,h=s.value.tags||[],{data:j}=([t,e]=B(()=>N(()=>queryCollection("content").select("tags","category","path","title","date").all(),"$2_WCniYodO")),t=await t,e(),t),$=G(()=>!s.value||!j.value?[]:j.value.filter(p=>{var v;const l=p.category===H,O=(v=p.tags)==null?void 0:v.some(b=>h==null?void 0:h.includes(b));return l||O}).slice(0,5)),x=p=>new Date(p).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});return(p,l)=>{const O=tt,v=Z,b=S,U=P,I=w,z=K,R=J("ContentRenderer"),q=F;return m(),f("div",ct,[r("div",lt,[r("div",it,[i(v,{onClick:l[0]||(l[0]=u=>p.$router.back()),type:"text"},{icon:_(()=>[i(O)]),default:_(()=>[l[1]||(l[1]=g(" 返回文章列表 "))]),_:1})]),r("div",ut,[r("h1",null,d(c(s).title),1),r("div",dt,[r("div",mt,[i(b),r("span",null,d(x(c(s).date)),1)]),r("div",pt,[i(U),r("span",null,d(c(s).author),1)]),c(s).category?(m(),f("div",ft,[i(I),r("span",null,d(c(s).category),1)])):y("",!0),c(s).featured?(m(),D(z,{key:1,color:"gold"},{default:_(()=>l[2]||(l[2]=[g("精选")])),_:1})):y("",!0)]),r("p",_t,d(c(s).description),1),r("div",vt,[(m(!0),f(L,null,M(c(s).tags,u=>(m(),D(z,{key:u,color:"blue"},{default:_(()=>[g(d(u),1)]),_:2},1024))),128))])]),r("div",gt,[i(R,{value:c(s)},null,8,["value"])]),c($).length>0?(m(),f("div",ht,[l[3]||(l[3]=r("h3",null,"相关文章",-1)),r("div",Ot,[(m(!0),f(L,null,M(c($),u=>(m(),f("div",{key:u.path,class:"related-card"},[r("h4",null,[i(q,{to:u.path},{default:_(()=>[g(d(u.title),1)]),_:2},1032,["to"])]),r("p",null,d(u.description),1),r("div",bt,[r("span",null,d(x(u.date)),1)])]))),128))])])):y("",!0)])])}}},Mt=X(yt,[["__scopeId","data-v-4bbbc1c8"]]);export{Mt as default};
