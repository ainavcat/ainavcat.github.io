import{_ as T}from"./Ch-Q3iJb.js";import{_ as S}from"./HRqTHd31.js";import{b as n,f as N,u as D,i as l,g as E,C as M,e as u,o as i,w as a,D as R,d as f,t as d,c as V,F as A,A as G,a as B,E as J,k as x,S as k,L}from"./Bfd9AOQV.js";import{_ as K,a as Q,L as U,b as W}from"./D1P4_ZU4.js";import{T as X}from"./1xHW059u.js";import{I as Y}from"./CFWI4Bqf.js";import{_ as F}from"./CVTOKCRG.js";import{_ as P}from"./DlAUqK2U.js";import{a as Z,_ as tt}from"./D21J92nz.js";import{u as C}from"./BdhfOnG5.js";import"./tDOlhqEl.js";import"./myFlKsE0.js";import"./D9BdGJAO.js";import"./BEVF3Y7v.js";import"./Bh-HdsJ7.js";import"./BqLe_k81.js";import"./kMoHkOfY.js";import"./DqW5hct1.js";import"./DN3AzFfe.js";import"./-LFagkLA.js";import"./DqZrh_KR.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function I(c){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},e=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),e.forEach(function(r){ot(c,r,o[r])})}return c}function ot(c,t,o){return t in c?Object.defineProperty(c,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):c[t]=o,c}var w=function(t,o){var e=I({},t,o.attrs);return n(Y,I({},e,{icon:et}),null)};w.displayName="FolderOpenOutlined";w.inheritAttrs=!1;const at=["datetime"],nt=N({__name:"Item",props:{item:{}},setup(c){D(e=>({"9cf4adde":l(o).colorBgContainer,"60a5582c":l(o).colorTextTertiary,db396852:l(o).colorPrimary}));const{isMobile:t}=M(),{token:o}=E.useToken();return(e,r)=>{const s=T,g=K,h=S,_=X,y=F,v=w,b=Q;return i(),u(b,{class:"article-item"},{extra:a(()=>[n(s,{to:e.item.path},{default:a(()=>[n(h,{class:"img",src:e.item.poster||"https://img1.baidu.com/it/u=3543009939,2144310597&fm=253&fmt=auto&app=138&f=JPEG?w=704&h=500",alt:e.item.path},null,8,["src","alt"])]),_:1},8,["to"])]),default:a(()=>[n(g,{description:l(t)?"":e.item.description},{title:a(()=>[n(s,{to:e.item.path},{default:a(()=>[f(d(e.item.title),1)]),_:1},8,["to"])]),_:1},8,["description"]),l(t)?R("",!0):(i(),u(y,{key:0},{default:a(()=>[(i(!0),V(A,null,G(e.item.tags,p=>(i(),u(s,{to:`/articles?tag=${p}`,key:p},{default:a(()=>[n(_,{color:"blue",class:"tag"},{default:a(()=>[f(d(p),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})),n(y,{justify:"space-between",class:"footer"},{default:a(()=>[n(s,{to:`/articles?${e.item.category}`,class:"category"},{default:a(()=>[n(v),f(" "+d(e.item.category),1)]),_:1},8,["to"]),B("time",{datetime:e.item.date,class:"time"},d(e.item.date),9,at)]),_:1})]),_:1})}}}),rt=P(nt,[["__scopeId","data-v-696d8bf8"]]),st=N({__name:"Tags",setup(c){const t=Z();return(o,e)=>{const r=tt;return i(),u(r,{tags:l(t)},null,8,["tags"])}}}),ct={class:"tag-wrap"},O=10,it={__name:"index",async setup(c){let t,o;const e=J(),r=x(()=>+e.query.page||1),s=x(()=>e.query.tag),{data:g}=([t,o]=k(()=>C(()=>`articles-${r}`,()=>{const _=queryCollection("content");return s.value&&_.where("tags","LIKE",`%${s.value}%`),_.select("tags","category","path","title","date","poster","description").limit(O).skip((r.value-1)*O).all()},{watch:[r,s],server:!0,client:!0,default:()=>[]})),t=await t,o(),t),{data:h}=([t,o]=k(()=>C(()=>`articles-total-${s.value||"all"}`,()=>{const _=queryCollection("content");return s.value&&_.where("tags","LIKE",`%${s.value}%`),_.count()},{watch:[s],server:!0,client:!0,default:()=>0})),t=await t,o(),t);return(_,y)=>{const v=rt,b=U,p=T,j=W,q=F,z=st;return i(),V(A,null,[n(b,{"item-layout":"vertical",size:"large","data-source":l(g)},{renderItem:a(({item:m})=>[n(v,{item:m},null,8,["item"])]),_:1},8,["data-source"]),n(q,{justify:"flex-end"},{default:a(()=>[n(j,{current:l(r),total:l(h),"page-size":O,responsive:"","hide-on-single-page":"","show-total":m=>`共 ${m} 条`},{itemRender:a(({page:m,type:H,originalElement:$})=>[H==="page"?(i(),u(p,{key:0,to:`/articles?page=${m}`},{default:a(()=>[f(d(m),1)]),_:2},1032,["to"])):m>0?(i(),u(p,{key:1,to:`/articles?page=${m}`},{default:a(()=>[(i(),u(L($)))]),_:2},1032,["to"])):(i(),u(L($),{key:2}))]),_:1},8,["current","total","show-total"])]),_:1}),B("div",ct,[n(z,{title:"所有标签",path:"/articles?tag=:tag"})])],64)}}},Nt=P(it,[["__scopeId","data-v-86214b70"]]);export{Nt as default};
