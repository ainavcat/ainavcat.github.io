const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Vvpvg6IU.js","./CIEhlHNT.js","./entry.DOKCb6mZ.css","./Mps_XdUL.js"])))=>i.map(i=>d[i]);
import{s as E,a9 as I,aa as U,ab as L,V as W,ac as M,U as F,K as q,J as V,ad as Q,r as H,C as N,M as G,Y as J,a8 as Y,i as O,ae as z,af as Z,ag as X,a5 as x}from"#entry";import{c as K}from"./Mps_XdUL.js";const A={trailing:!0};function k(e,a=25,r={}){if(r={...A,...r},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let i,s,n=[],t,c;const o=(l,m)=>(t=ee(e,l,m),t.finally(()=>{if(t=null,r.trailing&&c&&!s){const _=o(l,c);return c=null,_}}),t),D=function(...l){return r.trailing&&(c=l),t||new Promise(m=>{const _=!s&&r.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const d=r.leading?i:o(this,l);c=null;for(const v of n)v(d);n=[]},a),_?(i=o(this,l),m(i)):n.push(m)})},u=l=>{l&&(clearTimeout(l),s=null)};return D.isPending=()=>!!s,D.cancel=()=>{u(s),n=[],c=null},D.flush=()=>{if(u(s),!c||t)return;const l=c;return c=null,o(this,l)},D}async function ee(e,a,r){return await e.apply(a,r)}function le(...e){const a=typeof e[e.length-1]=="string"?e.pop():void 0;ae(e[0],e[1])&&e.unshift(a);let[r,i,s={}]=e;const n=E(()=>I(r));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const t=U();s.server??=!0,s.default??=ne,s.getCachedData??=B,s.lazy??=!1,s.immediate??=!0,s.deep??=L.deep,s.dedupe??="cancel",s._functionName,t._asyncData[n.value];const c={cause:"initial",dedupe:s.dedupe};t._asyncData[n.value]?._init||(c.cachedData=s.getCachedData(n.value,t,{cause:"initial"}),t._asyncData[n.value]=T(t,n.value,i,s,c.cachedData));const o=t._asyncData[n.value];o._deps++;const D=()=>t._asyncData[n.value].execute(c),u=s.server!==!1&&t.payload.serverRendered;{let _=function(f){const h=t._asyncData[f];h?._deps&&(h._deps--,h._deps===0&&h?._off())};const d=W();if(d&&u&&s.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const f=d._nuxtOnBeforeMountCbs;M(()=>{f.forEach(h=>{h()}),f.splice(0,f.length)}),F(()=>f.splice(0,f.length))}const v=d&&(d._nuxtClientOnly||q(K,!1));u&&t.isHydrating&&(o.error.value||o.data.value!==void 0)?o.status.value=o.error.value?"error":"success":d&&(!v&&t.payload.serverRendered&&t.isHydrating||s.lazy)&&s.immediate?d._nuxtOnBeforeMountCbs.push(D):s.immediate&&o.status.value!=="success"&&D();const y=z(),g=V([n,...s.watch||[]],([f],[h])=>{if((f||h)&&f!==h){const P=t._asyncData[h]?.data.value!==void 0,j=t._asyncDataPromises[h]!==void 0;h&&_(h);const S={cause:"initial",dedupe:s.dedupe};if(!t._asyncData[f]?._init){let b;h&&P?b=t._asyncData[h]?.data.value:(b=s.getCachedData(f,t,{cause:"initial"}),S.cachedData=b),t._asyncData[f]=T(t,f,i,s,b)}t._asyncData[f]._deps++,(s.immediate||P||j)&&t._asyncData[f].execute(S)}else o._execute({cause:"watch",dedupe:s.dedupe})},{flush:"sync"});y&&Q(()=>{g(),_(n.value)})}const l={data:C(()=>t._asyncData[n.value]?.data),pending:C(()=>t._asyncData[n.value]?.pending),status:C(()=>t._asyncData[n.value]?.status),error:C(()=>t._asyncData[n.value]?.error),refresh:(..._)=>t._asyncData[n.value].execute(..._),execute:(..._)=>t._asyncData[n.value].execute(..._),clear:()=>R(t,n.value)},m=Promise.resolve(t._asyncDataPromises[n.value]).then(()=>l);return Object.assign(m,l),m}function C(e){return E({get(){return e()?.value},set(a){const r=e();r&&(r.value=a)}})}function ae(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function R(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=void 0),e._asyncData[a]&&(e._asyncData[a].data.value=O(e._asyncData[a]._default()),e._asyncData[a].error.value=void 0,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function te(e,a){const r={};for(const i of a)r[i]=e[i];return r}function T(e,a,r,i,s){e.payload._errors[a]??=void 0;const n=i.getCachedData!==B,t=r,c=i.deep?H:N,o=s!==void 0,D=e.hook("app:data:refresh",async l=>{(!l||l.includes(a))&&await u.execute({cause:"refresh:hook"})}),u={data:c(o?s:i.default()),pending:E(()=>u.status.value==="pending"),error:G(e.payload._errors,a),status:N("idle"),execute:(...l)=>{const[m,_=void 0]=l,d=m&&_===void 0&&typeof m=="object"?m:{};if(e._asyncDataPromises[a]){if((d.dedupe??i.dedupe)==="defer")return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}{const y="cachedData"in d?d.cachedData:i.getCachedData(a,e,{cause:d.cause??"refresh:manual"});if(y!==void 0)return e.payload.data[a]=u.data.value=y,u.error.value=void 0,u.status.value="success",Promise.resolve(y)}u.status.value="pending";const v=new Promise((y,g)=>{try{y(t(e))}catch(f){g(f)}}).then(async y=>{if(v.cancelled)return e._asyncDataPromises[a];let g=y;i.transform&&(g=await i.transform(y)),i.pick&&(g=te(g,i.pick)),e.payload.data[a]=g,u.data.value=g,u.error.value=void 0,u.status.value="success"}).catch(y=>{if(v.cancelled)return e._asyncDataPromises[a];u.error.value=Y(y),u.data.value=O(i.default()),u.status.value="error"}).finally(()=>{v.cancelled||delete e._asyncDataPromises[a]});return e._asyncDataPromises[a]=v,e._asyncDataPromises[a]},_execute:k((...l)=>u.execute(...l),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{D(),e._asyncData[a]?._init&&(e._asyncData[a]._init=!1),n||J(()=>{e._asyncData[a]?._init||(R(e,a),u.execute=()=>Promise.resolve())})}};return u}const ne=()=>{},B=(e,a,r)=>{if(a.isHydrating)return a.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return a.static.data[e]},de={content:"v3.5.0--0ZIw2KKPSDJR3CByDtcgd35b78tKJ1rZP1Drd6OqW3s"},se={content:"_content_content",info:"_content_info"},fe={content:{type:"page",fields:{id:"string",title:"string",body:"json",category:"string",date:"string",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",poster:"string",seo:"json",stem:"string",tags:"json"}},info:{type:"data",fields:{}}},$=(e,a)=>{const r=e._conditions;return r.length>0?`(${r.join(` ${a} `)})`:""},w=e=>{const a=[],r={_conditions:a,where(i,s,n){let t;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(n)){const c=n.map(o=>p(o)).join(", ");t=`"${String(i)}" ${s.toUpperCase()} (${c})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(n)&&n.length===2)t=`"${String(i)}" ${s.toUpperCase()} ${p(n[0])} AND ${p(n[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":t=`"${String(i)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":t=`"${String(i)}" ${s.toUpperCase()} ${p(n)}`;break;default:t=`"${String(i)}" ${s} ${p(typeof n=="boolean"?Number(n):n)}`}return a.push(`${t}`),r},andWhere(i){const s=i(w());return a.push($(s,"AND")),r},orWhere(i){const s=i(w());return a.push($(s,"OR")),r}};return r},re=(e,a)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},i={__params:r,andWhere(n){const t=n(w());return r.conditions.push($(t,"AND")),i},orWhere(n){const t=n(w());return r.conditions.push($(t,"OR")),i},path(n){return i.where("path","=",Z(n))},skip(n){return r.offset=n,i},where(n,t,c){return i.andWhere(o=>o.where(String(n),t,c)),i},limit(n){return r.limit=n,i},select(...n){return n.length&&r.selectedFields.push(...n),i},order(n,t){return r.orderBy.push(`"${String(n)}" ${t}`),i},async all(){return a(e,s()).then(n=>n||[])},async first(){return a(e,s({limit:1})).then(n=>n[0]||null)},async count(n="*",t=!1){return a(e,s({count:{field:String(n),distinct:t}})).then(c=>c[0].count)}};function s(n={}){let t="SELECT ";if(n?.count)t+=`COUNT(${n.count.distinct?"DISTINCT ":""}${n.count.field}) as count`;else{const o=Array.from(new Set(r.selectedFields));t+=o.length>0?o.map(D=>`"${String(D)}"`).join(", "):"*"}t+=` FROM ${se[String(e)]}`,r.conditions.length>0&&(t+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?t+=` ORDER BY ${r.orderBy.join(", ")}`:t+=" ORDER BY stem ASC";const c=n?.limit||r.limit;return c>0&&(r.offset>0?t+=` LIMIT ${c} OFFSET ${r.offset}`:t+=` LIMIT ${c}`),t}return i};function p(e){return`'${String(e).replace(/'/g,"''")}'`}const he=e=>{const a=X()?.ssrContext?.event;return re(e,(r,i)=>ie(a,r,i))};async function ie(e,a,r){return ce(a,r)}async function ce(e,a){return await x(()=>import("./Vvpvg6IU.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(i=>i.loadDatabaseAdapter(e)).then(i=>i.all(a))}export{fe as a,de as c,he as q,se as t,le as u};
