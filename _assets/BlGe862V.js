import{_ as B}from"./CcFNFPO9.js";import{f as N,q as K,g as R,e as i,w as t,b as o,v as b,d as f,t as u,i as c,c as O,F,m as S,a as T,u as H,o as n,x as M,s as A,H as C,A as I}from"#entry";import"./Cbu67P7Z.js";import{_ as V,T as P}from"./vVAL0Cns.js";import{T as G}from"./BA54KCtf.js";import{T as J}from"./DigRuNIT.js";import{F as Q}from"./BQqAdD1I.js";import{_ as U,L as W}from"./DRSvpow3.js";import{T as X}from"./CIdRl2Qb.js";import{_ as j}from"./DlAUqK2U.js";import{a as Y,_ as Z}from"./tNhs3BJe.js";import{u as q,q as L}from"./7DlyX__2.js";import{_ as tt}from"./BWN9M7m1.js";import"./BSFUQdk4.js";import"./ClPnXEqx.js";import"./BMD63JWs.js";import"./D8BD5nQF.js";import"./DRzhkrl-.js";import"./C5rhPHxG.js";import"./CEH7Isb9.js";import"./faib8Bls.js";import"./DXrr6bkd.js";import"./EGfgZzIS.js";import"./BTVtBCIU.js";import"./Bo73JdM_.js";import"./B-kiopFV.js";const et=["datetime"],ot=["src","alt"],at=N({__name:"Item",props:{item:{}},setup(k){H(e=>({"2fec80e0":c(r).colorBgContainer,"68d46326":c(r).colorPrimary,"1e2175fb":c(r).colorTextTertiary}));const{isMobile:a}=K(),{token:r}=R.useToken();return(e,m)=>{const s=B,y=G,h=J,_=P,$=X,p=V,v=Q,g=U;return n(),i(g,{class:"article-item"},{default:t(()=>[o(p,{gap:"20"},{default:t(()=>[o(p,{vertical:"",flex:"1",gap:"10",class:"main"},{default:t(()=>[o(_,null,{default:t(()=>[o(y,{level:3,class:"title"},{default:t(()=>[o(s,{to:e.item.path},{default:t(()=>[f(u(e.item.title),1)]),_:1},8,["to"])]),_:1}),c(a)?b("",!0):(n(),i(h,{key:0,type:"secondary"},{default:t(()=>[f(u(e.item.description),1)]),_:1}))]),_:1}),c(a)?b("",!0):(n(),i(p,{key:0},{default:t(()=>[(n(!0),O(F,null,S(e.item.tags,d=>(n(),i(s,{to:`/articles?tag=${d}`,key:d},{default:t(()=>[o($,{color:"blue",class:"tag"},{default:t(()=>[f(u(d),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})),o(p,{justify:"space-between",class:"footer"},{default:t(()=>[o(s,{to:`/articles?cate=${e.item.category}`,class:"category"},{default:t(()=>[o(v),f(" "+u(e.item.category),1)]),_:1},8,["to"]),T("time",{datetime:e.item.date,class:"time"},u(e.item.date),9,et)]),_:1})]),_:1}),o(s,{to:e.item.path},{default:t(()=>[T("img",{class:"img",src:e.item.poster||"/articles/ai-agent.png",alt:e.item.path},null,8,ot)]),_:1},8,["to"])]),_:1})]),_:1})}}}),st=Object.assign(j(at,[["__scopeId","data-v-830b77a0"]]),{__name:"ArticleItem"}),nt=N({__name:"Tags",setup(k){const a=Y();return(r,e)=>{const m=Z;return n(),i(m,{tags:c(a)},null,8,["tags"])}}}),rt=Object.assign(nt,{__name:"ArticleTags"}),ct={class:"tag-wrap"},x=10,it={__name:"index",async setup(k){let a,r;const e=M(),m=A(()=>+e.query.page||1),s=A(()=>e.query.tag),{data:y}=([a,r]=C(()=>q(()=>`articles-${m}`,()=>{const _=L("content");return s.value&&_.where("tags","LIKE",`%${s.value}%`),_.select("tags","category","path","title","date","poster","description").order("date","desc").limit(x).skip((m.value-1)*x).all()},{watch:[m,s],server:!0,client:!0,default:()=>[]})),a=await a,r(),a),{data:h}=([a,r]=C(()=>q(()=>`articles-total-${s.value||"all"}`,()=>{const _=L("content");return s.value&&_.where("tags","LIKE",`%${s.value}%`),_.count()},{watch:[s],server:!0,client:!0,default:()=>0})),a=await a,r(),a);return(_,$)=>{const p=st,v=W,g=B,d=tt,z=V,D=rt;return n(),O(F,null,[o(v,{"item-layout":"vertical",size:"large","data-source":c(y)},{renderItem:t(({item:l})=>[o(p,{item:l},null,8,["item"])]),_:1},8,["data-source"]),o(z,{justify:"flex-end"},{default:t(()=>[o(d,{current:c(m),total:c(h),"page-size":x,responsive:"","hide-on-single-page":"","show-total":l=>`共 ${l} 条`},{itemRender:t(({page:l,type:E,originalElement:w})=>[E==="page"?(n(),i(g,{key:0,to:`/articles?page=${l}`},{default:t(()=>[f(u(l),1)]),_:2},1032,["to"])):l>0?(n(),i(g,{key:1,to:`/articles?page=${l}`},{default:t(()=>[(n(),i(I(w)))]),_:2},1032,["to"])):(n(),i(I(w),{key:2}))]),_:1},8,["current","total","show-total"])]),_:1}),T("div",ct,[o(D,{title:"所有标签",path:"/articles?tag=:tag"})])],64)}}},Vt=j(it,[["__scopeId","data-v-fe219dd2"]]);export{Vt as default};
